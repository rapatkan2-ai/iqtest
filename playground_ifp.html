<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playground IFP - MindTest.id</title>
    <link rel="icon" type="image/webp" href="assets/FaviconNew.webp">
    <link href="styles.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Press+Start+2P&display=swap"
        rel="stylesheet">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/7.2.1/css/flag-icons.min.css" />


    <style>
        body {
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Glassmorphism Utility (Untuk Navbar) */
        .glass {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.5);
        }
    </style>
</head>

<body class="bg-background-light text-text-light">





    <app-header></app-header>


    <main class="relative z-30 min-h-screen bg-gray-50 overflow-hidden">

        <!-- Background Ornaments -->
        <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0">
            <div
                class="absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float">
            </div>
            <div class="absolute top-[20%] left-[-10%] w-[400px] h-[400px] bg-pink-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float"
                style="animation-delay: 2s"></div>
            <div class="absolute bottom-[-10%] left-[20%] w-[600px] h-[600px] bg-blue-100 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-float"
                style="animation-delay: 4s"></div>
        </div>

        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">

            <!-- Header Section -->
            <div class="text-center mb-16 animate-fade-in-up">
                <span
                    class="inline-block py-1 px-3 rounded-full bg-red-100 text-primary text-xs font-bold tracking-wider mb-4 uppercase">Playground
                    IFP (Interactive Flat Panel)</span>
                <h1 class="text-2xl md:text-3xl font-pixel text-gray-900 tracking-tight leading-tight mb-6">
                    Permainan <span
                        class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-purple-600">Matematika</span>
                    Seru
                </h1>
                <p
                    class="text-gray-600 mt-4 text-sm md:text-base font-pixel max-w-2xl mx-auto leading-relaxed opacity-80">
                    Belajar sambil bermain dengan koleksi mini-games edukatif kami yang menantang!
                </p>
            </div>

            <!-- Grid Cards -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Card 1: Math Fighter (FEATURED) -->
                <div class="group bg-white/40 backdrop-blur-md rounded-3xl border-4 border-yellow-400/80 shadow-card-glow hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col overflow-hidden relative animate-fade-in-up transform scale-105 z-10"
                    style="animation-delay: 100ms">
                    <div
                        class="absolute top-0 right-0 bg-yellow-400 text-yellow-900 text-xs font-bold px-3 py-1 rounded-bl-xl z-20 shadow-md">
                        FEATURED
                    </div>
                    <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-red-500 to-rose-600"></div>
                    <div class="p-5 flex flex-col">
                        <div
                            class="inline-flex items-center bg-red-50 text-red-600 font-bold text-[10px] px-3 py-1.5 rounded-full tracking-wide uppercase self-start">
                            Action
                        </div>
                        <div
                            class="mt-4 rounded-2xl overflow-hidden bg-gradient-to-br from-red-50 to-rose-50 flex items-center justify-center group-hover:bg-red-100 transition-colors duration-500 shadow-inner h-48">
                            <img src="assets/Math_Fighter.jpg" alt="Math Fighter"
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                    <div class="px-6 pb-6 pt-0 flex flex-col flex-grow">
                        <div class="flex-grow">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Duel</p>
                            <h3
                                class="font-extrabold text-2xl text-gray-800 leading-tight mb-3 group-hover:text-red-600 transition-colors">
                                Math Fighter</h3>
                            <p class="text-sm text-gray-500 line-clamp-2 mb-4">Kalahkan musuh dengan jurus hitungan
                                matematikamu! Game Paling Seru!</p>
                        </div>
                        <a href="math_fighter.html"
                            class="w-full opacity-90 hover:opacity-100 border border-white/40 backdrop-blur-sm bg-gradient-to-r from-red-600 to-rose-700 hover:from-red-700 hover:to-rose-800 text-white font-bold py-4 rounded-xl shadow-lg shadow-red-500/30 transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2 text-lg">
                            <span>MAIN SEKARANG</span>
                            <span class="material-icons animate-pulse">flash_on</span>
                        </a>
                    </div>
                </div>

                <!-- Card 2: Tarik Tambang -->
                <div class="group bg-white/40 backdrop-blur-md rounded-3xl border border-white/50 shadow-xl hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col overflow-hidden relative animate-fade-in-up"
                    style="animation-delay: 200ms">
                    <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-blue-400 to-indigo-500"></div>
                    <div class="p-5 flex flex-col">
                        <div
                            class="inline-flex items-center bg-blue-50 text-blue-600 font-bold text-[10px] px-3 py-1.5 rounded-full tracking-wide uppercase self-start">
                            Math Game
                        </div>
                        <div
                            class="mt-4 rounded-2xl overflow-hidden bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center group-hover:bg-blue-100 transition-colors duration-500 h-48">
                            <img src="assets/TarikTambang.jpg" alt="Tarik Tambang"
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                    <div class="px-6 pb-6 pt-0 flex flex-col flex-grow">
                        <div class="flex-grow">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Adu Kekuatan</p>
                            <h3
                                class="font-extrabold text-xl text-gray-800 leading-tight mb-3 group-hover:text-blue-600 transition-colors">
                                Tarik Tambang</h3>
                            <p class="text-sm text-gray-500 line-clamp-2 mb-4">Jawab soal matematika dengan cepat untuk
                                menarik lawanmu!</p>
                        </div>
                        <a href="tarik_tambang.html"
                            class="w-full opacity-90 hover:opacity-100 border border-white/40 backdrop-blur-sm bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-blue-500/30 transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2">
                            <span>Mulai Main</span>
                            <span class="material-icons text-sm">play_arrow</span>
                        </a>
                    </div>
                </div>

                <!-- Card 3: Panjat Pinang -->
                <div class="group bg-white rounded-3xl border border-gray-100 shadow-soft hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col overflow-hidden relative animate-fade-in-up"
                    style="animation-delay: 300ms">
                    <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-orange-400 to-red-500"></div>
                    <div class="p-5 flex flex-col">
                        <div
                            class="inline-flex items-center bg-orange-50 text-orange-600 font-bold text-[10px] px-3 py-1.5 rounded-full tracking-wide uppercase self-start">
                            Strategy
                        </div>
                        <div
                            class="mt-4 rounded-2xl overflow-hidden bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center group-hover:bg-orange-100 transition-colors duration-500 h-48">
                            <img src="assets/Panjat_Pinang.jpg" alt="Panjat Pinang"
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                    <div class="px-6 pb-6 pt-0 flex flex-col flex-grow">
                        <div class="flex-grow">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Ketangkasan</p>
                            <h3
                                class="font-extrabold text-xl text-gray-800 leading-tight mb-3 group-hover:text-orange-600 transition-colors">
                                Panjat Pinang</h3>
                            <p class="text-sm text-gray-500 line-clamp-2 mb-4">Panjat setinggi mungkin dan dapatkan
                                hadiah di puncak!</p>
                        </div>
                        <a href="panjat_pinang.html"
                            class="w-full opacity-90 hover:opacity-100 border border-white/40 backdrop-blur-sm bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-orange-500/30 transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2">
                            <span>Mulai Main</span>
                            <span class="material-icons text-sm">play_arrow</span>
                        </a>
                    </div>
                </div>

                <!-- Card 5: Balap Karung -->
                <div class="group bg-white/40 backdrop-blur-md rounded-3xl border border-white/50 shadow-xl hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col overflow-hidden relative animate-fade-in-up"
                    style="animation-delay: 500ms">
                    <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-orange-400 to-amber-500"></div>
                    <div class="p-5 flex flex-col">
                        <div
                            class="inline-flex items-center bg-orange-100 text-orange-600 font-bold text-[10px] px-3 py-1.5 rounded-full tracking-wide uppercase self-start">
                            Race
                        </div>
                        <div
                            class="mt-4 rounded-2xl overflow-hidden bg-gradient-to-br from-orange-100 to-amber-100 flex items-center justify-center group-hover:bg-orange-200 transition-colors duration-500 h-48">
                            <img src="assets/Balap_karung.jpg" alt="Balap Karung"
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                    <div class="px-6 pb-6 pt-0 flex flex-col flex-grow">
                        <div class="flex-grow">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Lomba 17an</p>
                            <h3
                                class="font-extrabold text-xl text-gray-800 leading-tight mb-3 group-hover:text-orange-600 transition-colors">
                                Balap Karung</h3>
                            <p class="text-sm text-gray-500 line-clamp-2 mb-4">Lompat secepat mungkin dengan
                                menyelesaikan soal matematika!</p>
                        </div>
                        <a href="balap_karung.html"
                            class="w-full opacity-90 hover:opacity-100 border border-white/40 backdrop-blur-sm bg-gradient-to-r from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-orange-500/30 transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2">
                            <span>Mulai Main</span>
                            <span class="material-icons text-sm">play_arrow</span>
                        </a>
                    </div>
                </div>

                <!-- Card 6: Congklak Strategi -->
                <div class="group bg-white/40 backdrop-blur-md rounded-3xl border border-white/50 shadow-xl hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col overflow-hidden relative animate-fade-in-up"
                    style="animation-delay: 600ms">
                    <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-amber-700 to-orange-800"></div>
                    <div class="p-5 flex flex-col">
                        <div
                            class="inline-flex items-center bg-amber-100 text-amber-800 font-bold text-[10px] px-3 py-1.5 rounded-full tracking-wide uppercase self-start">
                            Strategy
                        </div>
                        <div
                            class="mt-4 rounded-2xl overflow-hidden bg-gradient-to-br from-amber-100 to-orange-100 flex items-center justify-center group-hover:bg-amber-200 transition-colors duration-500 h-48">
                            <img src="assets/Congklak.jpg" alt="Congklak"
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                    <div class="px-6 pb-6 pt-0 flex flex-col flex-grow">
                        <div class="flex-grow">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Mainan Tradisional
                            </p>
                            <h3
                                class="font-extrabold text-xl text-gray-800 leading-tight mb-3 group-hover:text-amber-800 transition-colors">
                                Congklak Strategi</h3>
                            <p class="text-sm text-gray-500 line-clamp-2 mb-4">Kumpulkan biji terbanyak di lumbungmu
                                dengan hitungan cepat!</p>
                        </div>
                        <a href="congklak.html"
                            class="w-full opacity-90 hover:opacity-100 border border-white/40 backdrop-blur-sm bg-gradient-to-r from-amber-700 to-orange-800 hover:from-amber-800 hover:to-orange-900 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-amber-900/30 transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2">
                            <span>Mulai Main</span>
                            <span class="material-icons text-sm">play_arrow</span>
                        </a>
                    </div>
                </div>

                <!-- Card 5: Teka Teki Silang -->
                <div class="group bg-white rounded-3xl border border-gray-100 shadow-soft hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col overflow-hidden relative animate-fade-in-up"
                    style="animation-delay: 500ms">
                    <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-purple-400 to-fuchsia-500"></div>
                    <div class="p-5 flex flex-col">
                        <div
                            class="inline-flex items-center bg-purple-50 text-purple-600 font-bold text-[10px] px-3 py-1.5 rounded-full tracking-wide uppercase self-start">
                            Logic
                        </div>
                        <div
                            class="mt-4 rounded-2xl overflow-hidden bg-gradient-to-br from-purple-50 to-fuchsia-50 flex items-center justify-center group-hover:bg-purple-100 transition-colors duration-500 h-48">
                            <img src="assets/Teka_Teki_Silang.jpg" alt="Teka Teki Silang"
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                    <div class="px-6 pb-6 pt-0 flex flex-col flex-grow">
                        <div class="flex-grow">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Asah Otak</p>
                            <h3
                                class="font-extrabold text-xl text-gray-800 leading-tight mb-3 group-hover:text-purple-600 transition-colors">
                                Teka Teki Silang</h3>
                            <p class="text-sm text-gray-500 line-clamp-2 mb-4">Isi kotak kosong dengan angka yang tepat!
                            </p>
                        </div>
                        <a href="teka_teki_silang.html"
                            class="w-full opacity-90 hover:opacity-100 border border-white/40 backdrop-blur-sm bg-gradient-to-r from-purple-500 to-fuchsia-600 hover:from-purple-600 hover:to-fuchsia-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-purple-500/30 transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2">
                            <span>Mulai Main</span>
                            <span class="material-icons text-sm">play_arrow</span>
                        </a>
                    </div>
                </div>

                <!-- Card 9: Labirin Angka -->
                <div class="group bg-white rounded-3xl border border-gray-100 shadow-soft hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col overflow-hidden relative animate-fade-in-up"
                    style="animation-delay: 900ms">
                    <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-violet-600"></div>
                    <div class="p-5 flex flex-col">
                        <div
                            class="inline-flex items-center bg-indigo-50 text-indigo-600 font-bold text-[10px] px-3 py-1.5 rounded-full tracking-wide uppercase self-start">
                            Puzzle
                        </div>
                        <div
                            class="mt-4 rounded-2xl overflow-hidden bg-gradient-to-br from-indigo-50 to-violet-50 flex items-center justify-center group-hover:bg-indigo-100 transition-colors duration-500 h-48">
                            <img src="https://placehold.co/600x400/indigo/white?text=Labirin+Angka" alt="Labirin Angka"
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                    <div class="px-6 pb-6 pt-0 flex flex-col flex-grow">
                        <div class="flex-grow">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Logika</p>
                            <h3
                                class="font-extrabold text-xl text-gray-800 leading-tight mb-3 group-hover:text-indigo-600 transition-colors">
                                Labirin Angka</h3>
                            <p class="text-sm text-gray-500 line-clamp-2 mb-4">Temukan jalan keluar dengan mengikuti
                                urutan angka benar.</p>
                        </div>
                        <button disabled
                            class="w-full opacity-60 border border-gray-200 bg-gray-100 text-gray-400 font-bold py-3.5 rounded-xl cursor-not-allowed flex items-center justify-center gap-2 shadow-inner">
                            <span>Segera Hadir</span>
                            <span class="material-icons text-sm">lock</span>
                        </button>
                    </div>
                </div>

                <!-- Card 10: Memori Angka -->
                <div class="group bg-white rounded-3xl border border-gray-100 shadow-soft hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col overflow-hidden relative animate-fade-in-up"
                    style="animation-delay: 1000ms">
                    <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-pink-400 to-rose-500"></div>
                    <div class="p-5 flex flex-col">
                        <div
                            class="inline-flex items-center bg-pink-50 text-pink-600 font-bold text-[10px] px-3 py-1.5 rounded-full tracking-wide uppercase self-start">
                            Memory
                        </div>
                        <div
                            class="mt-4 rounded-2xl overflow-hidden bg-gradient-to-br from-pink-50 to-rose-50 flex items-center justify-center group-hover:bg-pink-100 transition-colors duration-500 h-48">
                            <img src="https://placehold.co/600x400/pink/white?text=Memori+Angka" alt="Memori Angka"
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                    <div class="px-6 pb-6 pt-0 flex flex-col flex-grow">
                        <div class="flex-grow">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Daya Ingat</p>
                            <h3
                                class="font-extrabold text-xl text-gray-800 leading-tight mb-3 group-hover:text-pink-600 transition-colors">
                                Memori Angka</h3>
                            <p class="text-sm text-gray-500 line-clamp-2 mb-4">Ingat posisi kartu angka dan temukan
                                pasangannya!</p>
                        </div>
                        <button disabled
                            class="w-full opacity-60 border border-gray-200 bg-gray-100 text-gray-400 font-bold py-3.5 rounded-xl cursor-not-allowed flex items-center justify-center gap-2 shadow-inner">
                            <span>Segera Hadir</span>
                            <span class="material-icons text-sm">lock</span>
                        </button>
                    </div>
                </div>

                <!-- Card 11: Pukul Tikus -->
                <div class="group bg-white rounded-3xl border border-gray-100 shadow-soft hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 flex flex-col overflow-hidden relative animate-fade-in-up"
                    style="animation-delay: 1100ms">
                    <div class="absolute top-0 w-full h-1 bg-gradient-to-r from-yellow-400 to-amber-500"></div>
                    <div class="p-5 flex flex-col">
                        <div
                            class="inline-flex items-center bg-yellow-50 text-yellow-600 font-bold text-[10px] px-3 py-1.5 rounded-full tracking-wide uppercase self-start">
                            Arcade
                        </div>
                        <div
                            class="mt-4 rounded-2xl overflow-hidden bg-gradient-to-br from-yellow-50 to-amber-50 flex items-center justify-center group-hover:bg-yellow-100 transition-colors duration-500 h-48">
                            <img src="https://placehold.co/600x400/gold/white?text=Pukul+Tikus" alt="Pukul Tikus"
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                        </div>
                    </div>
                    <div class="px-6 pb-6 pt-0 flex flex-col flex-grow">
                        <div class="flex-grow">
                            <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Kecepatan</p>
                            <h3
                                class="font-extrabold text-xl text-gray-800 leading-tight mb-3 group-hover:text-yellow-600 transition-colors">
                                Pukul Tikus</h3>
                            <p class="text-sm text-gray-500 line-clamp-2 mb-4">Pukul tikus yang membawa jawaban benar!
                            </p>
                        </div>
                        <button disabled
                            class="w-full opacity-60 border border-gray-200 bg-gray-100 text-gray-400 font-bold py-3.5 rounded-xl cursor-not-allowed flex items-center justify-center gap-2 shadow-inner">
                            <span>Segera Hadir</span>
                            <span class="material-icons text-sm">lock</span>
                        </button>
                    </div>
                </div>
            </div>
    </main>


    <app-footer></app-footer>


    <app-mobile-nav></app-mobile-nav>

    <!-- SUPABASE RESOURCE -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-init.js"></script>
    <script src="layout.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const supabaseUrl = 'https://punlkmquvahqkqmcfqgx.supabase.co';
            const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB1bmxrbXF1dmFocWtxbWNmcWd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNTEwODUsImV4cCI6MjA4MzkyNzA4NX0.7ueEXLBsEBgAqHWoOzc0_djWCZ0d7PBMPIwM3tmay7A';
            let supabase = null;

            try {
                if (typeof window.supabase !== 'undefined') {
                    supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
                }
            } catch (err) { console.error('Supabase Init Error', err); }

            async function updateUIInline(user) {
                const container = document.getElementById('login-container');
                const mobileContainer = document.getElementById('mobile-login-container');

                if (user) {
                    const avatarUrl = user.user_metadata.avatar_url || user.user_metadata.picture || 'https://via.placeholder.com/150';
                    const fullName = user.user_metadata.full_name || user.user_metadata.name || 'User';
                    const firstName = fullName.split(' ')[0];

                    let isPremium = false;
                    if (supabase) {
                        const { data } = await supabase.from('profiles').select('is_premium').eq('id', user.id).single();
                        if (data && data.is_premium) isPremium = true;
                    }

                    const avatarBorderClass = isPremium ? 'border-2 border-yellow-400 ring-2 ring-yellow-400/30' : 'border border-gray-300';

                    const desktopHtml = `
                       <div class="flex items-center gap-2">
                        <a href="dashboard.html" class="relative group cursor-pointer shrink-0 block">
                            <img src="${avatarUrl}" onerror="this.src='https://via.placeholder.com/150'" alt="Foto" class="h-9 w-9 rounded-full ${avatarBorderClass} shadow-sm object-cover transition-transform group-hover:scale-105 bg-gray-100">
                        </a>
                        <div class="flex flex-col justify-center min-w-[60px]">
                            <span class="text-xs font-bold text-gray-700 hidden sm:block leading-none truncate max-w-[100px]">${firstName}</span>
                            ${isPremium ? '<div class="flex items-center gap-0.5 mt-0.5"><span class="material-icons text-[10px] text-yellow-500">verified</span><span class="text-[10px] text-yellow-600 font-bold leading-none">Premium</span></div>' : ''}
                        </div>
                         <button onclick="handleLogout()" class="text-xs text-red-500 font-semibold border border-red-200 px-3 py-1 rounded-full hover:bg-red-50 ml-1">
                          Keluar
                        </button>
                      </div>
                    `;

                    const mobileHtml = `
                       <div class="flex items-center gap-2 bg-white/90 backdrop-blur-sm shadow-md rounded-full px-3 py-1.5 border border-gray-100">
                        <a href="dashboard.html" class="relative group cursor-pointer shrink-0 block">
                            <img src="${avatarUrl}" onerror="this.src='https://via.placeholder.com/150'" alt="Foto" class="h-9 w-9 rounded-full ${avatarBorderClass} shadow-sm object-cover transition-transform group-hover:scale-105 bg-gray-100">
                        </a>
                        <div class="flex flex-col justify-center min-w-[60px]">
                            <span class="text-xs font-bold text-gray-700 hidden sm:block leading-none truncate max-w-[100px]">${firstName}</span>
                            ${isPremium ? '<div class="flex items-center gap-0.5 mt-0.5"><span class="material-icons text-[10px] text-yellow-500">verified</span><span class="text-[10px] text-yellow-600 font-bold leading-none">Premium</span></div>' : ''}
                        </div>
                         <button onclick="handleLogout()" class="text-xs text-red-500 font-semibold border border-red-200 px-3 py-1 rounded-full hover:bg-red-50 ml-1">
                          Keluar
                        </button>
                      </div>
                    `;

                    if (container) container.innerHTML = desktopHtml;
                    if (mobileContainer) mobileContainer.innerHTML = mobileHtml;
                }
            }

            window.handleLogout = async () => {
                if (supabase) await supabase.auth.signOut();
                window.location.reload();
            }

            if (supabase) {
                const { data: { session } } = await supabase.auth.getSession();
                updateUIInline(session?.user);
                supabase.auth.onAuthStateChange((event, session) => updateUIInline(session?.user));
            }
        });
    </script>
</body>

</html>